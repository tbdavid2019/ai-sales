ä½ æƒ³åšä¸€å€‹ å¤š Agents æ¶æ§‹çš„ AI Sales å°è©±ç³»çµ±ï¼Œéœ€è¦å…·å‚™ä¸»æ§ Agent + ä»»å‹™å‹ Sub-Agentsï¼ˆå¦‚ OCRã€æ—¥æ›†æ•´åˆã€ä¸€èˆ¬å°è©±ï¼‰

â¸»

âœ… æ¶æ§‹ç¸½è¦½ï¼šå¤š Agents å”ä½œå¼ LLM ç³»çµ±

ğŸ”§ æŠ€è¡“é¸å‹å»ºè­°

å…ƒä»¶	æŠ€è¡“	èªªæ˜
ä¸»æ§ Agent	LangGraph / CrewAI / AutoGen	è² è²¬æ ¹æ“šä¸Šä¸‹æ–‡æ´¾ç™¼ä»»å‹™çµ¦å°æ‡‰çš„ sub-agentï¼Œä¸¦å½™ç¸½çµæœ
å¤šå€‹å­ Agent	LangChain Agentã€CrewAI Agent æˆ– Function-calling + RAG	å„ Agent å°ˆæ³¨è™•ç†å–®ä¸€ä»»å‹™ï¼Œå…·å‚™ç¨ç«‹ prompt / å·¥å…·éˆ
å°è©±æ¡†æ¶	OpenAI Function-calling / LangChain Conversational Chain	æ”¯æ´ user/assistant å¤šè¼ªä¸Šä¸‹æ–‡è¨˜æ†¶
åç‰‡ OCR	PaddleOCR / Google Vision API	åœ–ç‰‡è¾¨è­˜ Agentï¼Œæå–å§“åã€é ­éŠœã€å…¬å¸ç­‰è³‡è¨Š
è¡Œäº‹æ›†æ•´åˆ	Google Calendar API + OAuth2	Agent æŸ¥è©¢ç©ºæª”ã€å®‰æ’æœƒè­°
è¨˜æ†¶é«”å„²å­˜	Redis / Weaviate / FAISS	å„²å­˜ user profileï¼ˆåç¨±ã€é ­éŠœï¼‰èˆ‡éå»å°è©±è¨˜æ†¶
æºé€šæ–¹å¼	Gradio / Streamlit / LINE / Web chat UI	æœ€çµ‚çš„ä»‹é¢è¼¸å…¥èˆ‡è¼¸å‡º
èªéŸ³æ”¯æ´ï¼ˆå¯é¸ï¼‰	Whisper / TTS ç³»çµ±	è™•ç†èªéŸ³è¼¸å…¥èˆ‡èªéŸ³å›è¦†ï¼ˆé¸é…ï¼‰


â¸»

ğŸ§  å»ºè­° Agent ä»»å‹™èˆ‡è·è²¬å®šç¾©

Agent ç·¨è™Ÿ	åç¨±	åŠŸèƒ½
ä¸» Agent	ControlAgent	è² è²¬æ ¹æ“šä¸Šä¸‹æ–‡åˆ†æ´¾ä»»å‹™ï¼Œå”èª¿å­ Agentsï¼Œä¸¦æ•´åˆå›è¦†
Agent 1	CardAgent	æ”¶åˆ°åœ–ç‰‡å¾Œ OCR åç‰‡ï¼Œåˆ¤æ–·æ˜¯å¦æ¸…æ™°ï¼Œæå–å§“åã€è·ç¨±ã€å…¬å¸åç¨±
Agent 2	CalendarAgent	æ ¹æ“šå°è©±ä¸­æåŠæ™‚é–“æŸ¥è©¢ Google Calendar æ˜¯å¦æœ‰ç©ºï¼Œä¸¦å¯å®‰æ’æœƒè­°
Agent 3	ChatAgent	è™•ç†ä¸€èˆ¬éŠ·å”®è©±è¡“ã€å¯’æš„ã€ç”¢å“ä»‹ç´¹ï¼Œä½¿ç”¨ RAG æ¥å•†æ¥­çŸ¥è­˜åº«å¯åŠ å¼·æ•ˆæœ


â¸»

ğŸ—ï¸ æ¶æ§‹å¯¦ä½œæ­¥é©Ÿï¼ˆæ¨è–¦èªè¨€ï¼šPythonï¼‰
	1.	å»ºç½® Sub-Agent åŠŸèƒ½
	â€¢	ç”¨ LangChain/CrewAI å®šç¾©æ¯å€‹ Agent çš„å·¥å…·èˆ‡ promptã€‚
	â€¢	æ¯å€‹ Agent éƒ½èƒ½æ ¹æ“šä»»å‹™å›å‚³è™•ç†å¾Œçš„è³‡è¨Šã€‚
	2.	å»ºç«‹ä¸»æ§ Agent
	â€¢	ç›£è½ä½¿ç”¨è€…è¼¸å…¥ï¼Œæ ¹æ“šé—œéµè©æˆ–ä»»å‹™é¡å‹è½‰ç™¼çµ¦ç›¸æ‡‰ Agentã€‚
	â€¢	å½™æ•´å›è¦†å¾Œå‚³çµ¦ä½¿ç”¨è€…ã€‚
	3.	è¨­è¨ˆè¨˜æ†¶é«”çµæ§‹
	â€¢	ä½¿ç”¨ Redis å„²å­˜å§“åã€å…¬å¸ã€åå¥½ç­‰ï¼Œç”¨ä¾†åšã€Œè¨˜ä½å°è©±äººç‰©ã€ã€‚
	â€¢	ä¹Ÿå¯æ­é… LangChain Memory æ¨¡çµ„ã€‚
	4.	æ•´åˆè¡Œäº‹æ›†èˆ‡ OCR
	â€¢	CardAgentï¼šå°‡åœ–ç‰‡å‚³å…¥ OCR æ¨¡å‹ï¼ˆPaddleOCR / Google Visionï¼‰ã€‚
	â€¢	CalendarAgentï¼šä¸²æ¥ Google Calendar APIï¼Œä½¿ç”¨è€…ç™»å…¥æˆæ¬Šå¾ŒæŸ¥è©¢æ—¥ç¨‹ã€‚
	5.	æ‰“é€ å°è©± UI
	â€¢	å¯ä½¿ç”¨ Gradio æˆ– React + FastAPI åšå‡ºä¸€å€‹ä¹¾æ·¨çš„ Web å°è©±æ¡†ã€‚
	â€¢	è‹¥åšçµ¦ LINE æˆ– WhatsApp å‰‡è¦ç”¨ webhook è™•ç†æ¶ˆæ¯è½‰ç™¼ã€‚

â¸»

ğŸ” å¤š Agent æºé€šç¯„ä¾‹æµç¨‹ï¼ˆç”¨ LangGraph æˆ– CrewAIï¼‰
	1.	ä½¿ç”¨è€…ï¼šã€Œé€™æ˜¯æˆ‘çš„åç‰‡ã€ï¼‹ ä¸Šå‚³åœ–ç‰‡
	2.	ä¸» Agentï¼šã€Œåœ–ç‰‡æ”¶åˆ°ï¼Œè½‰äº¤çµ¦ CardAgent è™•ç†ã€
	3.	CardAgent æå–ï¼šã€Œç‹å°æ˜ï¼æ¥­å‹™ç¸½ç›£ï¼XXç§‘æŠ€ã€ä¸¦åˆ¤æ–·åœ–ç‰‡æ¸…æ™°
	4.	ä¸» Agent å›ç­”ï¼šã€Œç‹å°æ˜ç¸½ç›£æ‚¨å¥½ï½è«‹å•æ–¹ä¾¿å¹«æ‚¨å®‰æ’æœƒè­°å—ï¼Ÿã€
	5.	ä½¿ç”¨è€…ï¼šã€Œä¸‹é€±ä¸‰ä¸‹åˆå¯ä»¥å—ï¼Ÿã€
	6.	ä¸» Agent å‘¼å« CalendarAgent â†’ å›å ±æ˜¯å¦æœ‰ç©º
	7.	å®‰æ’æˆåŠŸä¸¦å›è¦†ã€Œæœƒè­°å·²æ–¼ xx/xx ä¸‹åˆ3é»å®‰æ’å¦¥ç•¶ã€

â¸»

ï¿½ OpenAI ç›¸å®¹ API è¨­è¨ˆæ–¹æ¡ˆ

ğŸ“‹ æ ¸å¿ƒç«¯é»ï¼ˆå®Œå…¨ç›¸å®¹ OpenAI APIï¼‰
POST /v1/chat/completions     # ä¸»è¦å°è©±ç«¯é»ï¼Œæ”¯æ´ stream=true/false
POST /v1/models              # è¿”å›å¯ç”¨æ¨¡å‹åˆ—è¡¨
GET  /v1/models              # åŒä¸Š
POST /v1/files               # æª”æ¡ˆä¸Šå‚³ï¼ˆåç‰‡åœ–ç‰‡ï¼‰
GET  /v1/files/{file_id}     # æª”æ¡ˆè³‡è¨ŠæŸ¥è©¢

ğŸ“ Request æ ¼å¼ï¼ˆæ¨™æº– OpenAIï¼‰
{
  "model": "aisales-v1",
  "messages": [
    {"role": "user", "content": "ä½ å¥½"},
    {"role": "assistant", "content": "æ‚¨å¥½ï¼æˆ‘æ˜¯ AI éŠ·å”®åŠ©ç†"}
  ],
  "stream": false,           # æ”¯æ´ true/false
  "temperature": 0.7,
  "max_tokens": 2000,
  "functions": [             # è‡ªå‹•æ˜ å°„åˆ°å„ Agent å·¥å…·
    {
      "name": "analyze_business_card",
      "description": "åˆ†æåç‰‡è³‡è¨Š",
      "parameters": {...}
    },
    {
      "name": "check_calendar",
      "description": "æŸ¥è©¢è¡Œäº‹æ›†",
      "parameters": {...}
    }
  ]
}

ğŸ“¤ Response æ ¼å¼ï¼ˆæ¨™æº– OpenAIï¼‰
# Non-stream
{
  "id": "chatcmpl-abc123",
  "object": "chat.completion",
  "created": 1677652288,
  "model": "aisales-v1",
  "choices": [{
    "index": 0,
    "message": {
      "role": "assistant",
      "content": "ç‹å°æ˜ç¸½ç›£æ‚¨å¥½ï½è«‹å•æ–¹ä¾¿å¹«æ‚¨å®‰æ’æœƒè­°å—ï¼Ÿ",
      "function_call": {
        "name": "analyze_business_card",
        "arguments": "{\"name\":\"ç‹å°æ˜\",\"title\":\"æ¥­å‹™ç¸½ç›£\"}"
      }
    },
    "finish_reason": "stop"
  }],
  "usage": {
    "prompt_tokens": 20,
    "completion_tokens": 100,
    "total_tokens": 120
  }
}

# Stream
data: {"id":"chatcmpl-abc123","object":"chat.completion.chunk","created":1677652288,"model":"aisales-v1","choices":[{"index":0,"delta":{"role":"assistant","content":"ç‹å°æ˜"},"finish_reason":null}]}

ğŸ¯ å¤š Agent æ•´åˆç­–ç•¥
1. èƒŒå¾Œä½¿ç”¨ LangGraph å”èª¿å„ Agent
2. Function calling è‡ªå‹•æ˜ å°„åˆ° Agent å·¥å…·
3. åœ–ç‰‡é€é content çš„ image_url æˆ– files API è™•ç†
4. æœƒè©±è¨˜æ†¶é€é messages æ­·å²ç¶­æŒ

ğŸ”„ ç›¸å®¹æ€§å„ªå‹¢
â€¢ æ‰€æœ‰æ”¯æ´ OpenAI çš„ UI æ¡†æ¶å¯ç›´æ¥ä½¿ç”¨
â€¢ LINE Bot / Telegram Bot ç„¡éœ€ä¿®æ”¹æ•´åˆä»£ç¢¼
â€¢ å³æ™‚è™›æ“¬äººç³»çµ±å¯ç„¡ç¸«æ›¿æ›
â€¢ æ”¯æ´ç¾æœ‰çš„ OpenAI SDK å’Œå·¥å…·

â¸»

ğŸ› ï¸ OpenAI ç›¸å®¹æ€§å¯¦ç¾æŠ€è¡“ç´°ç¯€

ğŸ”§ æ ¸å¿ƒæŠ€è¡“æ£§
FastAPI + OpenAI Python SDK æ ¼å¼
Pydantic V2 (å®Œæ•´çš„ OpenAI è³‡æ–™çµæ§‹)
LangGraph (èƒŒå¾Œçš„ Multi-Agent å”èª¿)
Redis (Session å’Œ Function Call ç‹€æ…‹ç®¡ç†)
Server-Sent Events (SSE) å¯¦ç¾ stream

ğŸ“Š é—œéµå¯¦ç¾è¦é»

1. è«‹æ±‚è½‰æ›å±¤
   â€¢ å°‡ OpenAI messages è½‰æ›ç‚º LangGraph è¼¸å…¥
   â€¢ è‡ªå‹•æª¢æ¸¬éœ€è¦å‘¼å«çš„ Agentï¼ˆæ ¹æ“š content å’Œ functionsï¼‰
   â€¢ åœ–ç‰‡å…§å®¹è‡ªå‹•è·¯ç”±åˆ° CardAgent

2. ä¸²æµå¯¦ç¾
   â€¢ ä½¿ç”¨ Python çš„ asyncio å’Œ yield
   â€¢ å³æ™‚è¿”å› Agent è™•ç†é€²åº¦
   â€¢ æ”¯æ´ function_call çš„ä¸²æµè¼¸å‡º

3. è¨˜æ†¶é«”ç®¡ç†
   â€¢ æ ¹æ“š messages æ­·å²é‡å»ºå°è©±ç‹€æ…‹
   â€¢ ä½¿ç”¨ Redis å„²å­˜ user profile å’Œé•·æœŸè¨˜æ†¶
   â€¢ æ”¯æ´ conversation_id è¿½è¹¤

4. éŒ¯èª¤è™•ç†
   â€¢ å®Œå…¨ç›¸å®¹ OpenAI éŒ¯èª¤æ ¼å¼
   â€¢ é©ç•¶çš„ HTTP ç‹€æ…‹ç¢¼å’ŒéŒ¯èª¤è¨Šæ¯

ğŸ”— éƒ¨ç½²å»ºè­°
Docker + Kubernetes (æ©«å‘æ“´å±•)
Nginx è² è¼‰å‡è¡¡ + SSL çµ‚æ­¢
Redis Cluster (é«˜å¯ç”¨æ€§)
ç›£æ§ï¼šPrometheus + Grafana

â¸»

ï¿½ğŸš€ å»¶ä¼¸åŠŸèƒ½å»ºè­°
å¤šè§’è‰²è²éŸ³åˆæˆ	ç”¨ CosyVoice 2 è¨“ç·´è§’è‰²åŒ– TTSï¼Œæ ¹æ“šè·ä½é¸èªæ°£
CRM æ•´åˆ	æ”¹ç”¨ email é€šçŸ¥ä¸»å¸³è™Ÿï¼Œä¸¦è¨˜éŒ„å°è©±æ‘˜è¦
å®¢æˆ¶æƒ…ç·’åˆ¤æ–·	ä½¿ç”¨ NLP æƒ…ç·’åˆ†æ API å°ç”¨æˆ¶èªæ°£é€²è¡Œæ¨™è¨˜
RAG åŠ å¼· ChatAgent	æ•´åˆç”¢å“çŸ¥è­˜ã€FAQã€ç™½çš®æ›¸ï¼ŒåŠ å¼·éŠ·å”®å°è©±èƒ½åŠ›


â¸»